-- SPDX-License-Identifier: MIT
-- vim:set ft=lua:
local L4 = require("L4");
local l = L4.default_loader;

print("IPC within one address space:");
local e = l:start({}, "rom/ipcbench");
e:wait();

print("IPC between two address spaces:");
local comm = l:new_channel();
l:start({ caps = { comm = comm:svr() }}, "rom/ipcbench_server");
l:start({ caps = { comm = comm },     }, "rom/ipcbench_client");
